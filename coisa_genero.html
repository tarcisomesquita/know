<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>coisa_genero</title>
<style>
 table, th, td {
  border: 1px solid black;
  border-collapse: collapse;
  padding: 5px;
  text-align: center;
  border-spacing: 5px;
}
</style>

</head>
<body>
<!-- 
cat medida.html | egrep '<t[dh]>' | sed 's/^ *//; s|</t[dh]>|\n|g; s|</\?t[rhd]>||g' | grep '.' | sed 's,^,<tr><td>,; s,$,</td><td></td></tr>,' | sort
-->
<table>
<tr><th>coisa</th><th>gênero</th></tr>
<tr><td>comprimento</td><td></td></tr>
<tr><td>corrente elétrica</td><td></td></tr>
<tr><td>grandeza</td><td></td></tr>
<tr><td>intensidade luminosa</td><td></td></tr>
<tr><td>massa</td><td></td></tr>
<tr><td>medida</td><td></td></tr>
<tr><td>metro</td><td></td></tr>
<tr><td>metro</td><td></td></tr>
<tr><td>quantidade de substância</td><td></td></tr>
<tr><td>temperatura</td><td></td></tr>
<tr><td>tempo</td><td></td></tr>
<tr><td>unidade</td><td></td></tr>
<tr><td>unidade</td><td></td></tr>
<tr><td>valor</td><td></td></tr>
</table> 

<script>
function getCookie(cname) {
  let name = cname + "=";
  let ca = document.cookie.split(';');
  for(let i = 0; i < ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') c = c.substring(1);
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return '';
}

let token = getCookie('token');
let email = getCookie('email');

const set_cookie = (id,value) => {
  let expira = new Date((new Date()).getTime() + 365*24*3600*1000).toISOString();
  document.cookie = `${id}=${value};expires=${expira};path=/;`;
}

if (token === '') {
  token = (Math.random().toString(36)+"00000000000").substring(2,13).toUpperCase();
  set_cookie('token',token);
}

if (email === '') {
  email = 'indefinido@gmail.com';
  set_cookie('email',email);
}

let log = `entry.340072360=${location.href};${token};${email};${screen.width}x${screen.height};${navigator.deviceMemory};${navigator.userAgent.replace(/;/g,',')}`;

fetch(
  'https://docs.google.com/forms/u/0/d/e/1FAIpQLScGwq8tvtiFUjhTQ58SlhN0b9rymqGGeXbJJoFB2YWks4FSPA/formResponse', 
  {
    method: 'POST',
    mode: 'no-cors',
    credentials: 'omit',
    headers: {  
      'Content-type': 'application/x-www-form-urlencoded;charset=utf-8'
    },
    'body': encodeURI(log)
  }
);
</script>

</body>
</html>

